import{p as l,r as c,C as v,j as t,L as C}from"./index-ebb1ae14.js";import{m as h}from"./motion-60280fe1.js";import{H as D}from"./Header-9240f33c.js";function f({title:s,contents:n}){const o=c.useRef(),[m,g]=c.useState(0),[d,r]=c.useState(!1),[i,T]=c.useState(0),[y,X]=c.useState(0);c.useLayoutEffect(()=>{var a,S;const e=(a=o.current)==null?void 0:a.scrollWidth,u=(S=o.current)==null?void 0:S.offsetWidth;g(e-u)},[n]);const p=e=>{r(!0),T(e.clientX||e.touches[0].clientX),X(o.current.scrollLeft)},x=()=>{r(!1)},j=e=>{if(!d)return;e.preventDefault();const a=((e.clientX||e.touches[0].clientX)-i)/7;o.current.scrollLeft=y-a};return!n||n.length===0?null:t.jsxs("section",{className:"home categoriesSection",children:[t.jsx("h2",{className:"section_title",children:s}),t.jsx(h.div,{ref:o,className:"carousel",onMouseDown:p,onTouchStart:p,onMouseUp:x,onTouchEnd:x,onMouseMove:j,onTouchMove:j,children:t.jsx(h.div,{className:"carousel_content",drag:"x",dragConstraints:{right:0,left:-m},initial:{x:-100},animate:{x:0},children:n.map(({id:e,name:u,img:a})=>t.jsx(h.div,{className:"item_carousel",children:e===0?t.jsx("img",{src:a,alt:`front banner of ${u}`}):t.jsx(C,{to:`/cena-estelar/movie/${e}`,children:t.jsx("img",{src:a,alt:`front banner of ${u}`})})},e))})})]})}f.propTypes={title:l.PropTypes.string.isRequired,contents:l.PropTypes.arrayOf(l.PropTypes.shape({id:l.PropTypes.number.isRequired,name:l.PropTypes.string.isRequired,img:l.PropTypes.string.isRequired})).isRequired};function M(){const{allContentsTypes:s,wishlist:n}=c.useContext(v),o=()=>!s||s.length===0?null:[...s].sort((r,i)=>i.rating-r.rating),m=()=>!s||s.length===0?null:[...s].sort((r,i)=>i.id-r.id),g=()=>!n||n.length===0?null:[...n.movies].sort((r,i)=>i.id-r.id);return t.jsxs("main",{className:"home mainContainer",children:[t.jsx(f,{title:"Vistos mais recentes",contents:m()}),t.jsx(f,{title:"Mais bem avaliados",contents:o()}),t.jsx(f,{title:"Em breve",contents:g()})]})}function R(){return t.jsx(t.Fragment,{children:t.jsx(M,{})})}function N(){return t.jsxs(t.Fragment,{children:[t.jsx(D,{}),t.jsx(R,{})]})}export{N as default};
