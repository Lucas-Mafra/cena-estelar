import{p as i,r as o,C as T,j as e,L as X}from"./index-29fbf930.js";import{m as d}from"./motion-7962e947.js";import{H as D}from"./Header-ad673d0e.js";function a({title:l,contents:s}){const r=o.useRef(),[m,u]=o.useState(0),[j,f]=o.useState(!1),[v,S]=o.useState(0),[M,y]=o.useState(0);o.useLayoutEffect(()=>{var n,g;const t=(n=r.current)==null?void 0:n.scrollWidth,c=(g=r.current)==null?void 0:g.offsetWidth;u(t-c)},[s]);const p=t=>{f(!0),S(t.clientX||t.touches[0].clientX),y(r.current.scrollLeft)},x=()=>{f(!1)},h=t=>{if(!j)return;t.preventDefault();const n=((t.clientX||t.touches[0].clientX)-v)/7;r.current.scrollLeft=M-n};return!s||s.length===0?null:e.jsxs("section",{className:"home categoriesSection",children:[e.jsx("h2",{className:"section_title",children:l}),e.jsx(d.div,{ref:r,className:"carousel",onMouseDown:p,onTouchStart:p,onMouseUp:x,onTouchEnd:x,onMouseMove:h,onTouchMove:h,children:e.jsx(d.div,{className:"carousel_content",drag:"x",dragConstraints:{right:0,left:-m},initial:{x:-100},animate:{x:0},children:s.map(({id:t,name:c,img:n})=>e.jsx(d.div,{className:"item_carousel",children:t===0?e.jsx("img",{src:n,alt:`front banner of ${c}`}):e.jsx(X,{to:`/cena-estelar/movie/${t}`,children:e.jsx("img",{src:n,alt:`front banner of ${c}`})})},t))})})]})}a.propTypes={title:i.PropTypes.string.isRequired,contents:i.PropTypes.arrayOf(i.PropTypes.shape({id:i.PropTypes.number.isRequired,name:i.PropTypes.string.isRequired,img:i.PropTypes.string.isRequired})).isRequired};function C(){const{allMovies:l}=o.useContext(T),s=r=>l?l.filter(u=>u.genres.includes(r)):null;return e.jsxs("main",{className:"home mainContainer",children:[e.jsx(a,{title:"Filmes de comédia",contents:s("comédia")}),e.jsx(a,{title:"Filmes de drama",contents:s("drama")}),e.jsx(a,{title:"Filmes de suspense",contents:s("suspense")}),e.jsx(a,{title:"Filmes de terror",contents:s("terror")}),e.jsx(a,{title:"Filmes de animação",contents:s("animação")})]})}function R(){return e.jsx(e.Fragment,{children:e.jsx(C,{})})}function N(){return e.jsxs(e.Fragment,{children:[e.jsx(D,{}),e.jsx(R,{})]})}export{N as default};
