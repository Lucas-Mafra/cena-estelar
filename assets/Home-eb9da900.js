import{p as n,r as c,C as h,j as e,L as x}from"./index-476180da.js";import{m}from"./motion-9285a27f.js";import{H as f}from"./Header-1cb25ca2.js";function d({title:t,contents:r}){const i=c.useRef(),[l,o]=c.useState(0);return c.useLayoutEffect(()=>{var a,p;const s=(a=i.current)==null?void 0:a.scrollWidth,u=(p=i.current)==null?void 0:p.offsetWidth;o(s-u)},[r]),!r||r.length===0?null:e.jsxs("section",{className:"home categoriesSection",children:[e.jsx("h2",{className:"section_title",children:t}),e.jsx(m.div,{ref:i,className:"carousel",whileTap:{cursor:"grabbing"},children:e.jsx(m.div,{className:"carousel_content",drag:"x",dragConstraints:{right:0,left:-l},initial:{x:-100},animate:{x:0},children:r.map(({id:s,name:u,img:a})=>e.jsx(m.div,{className:"item_carousel",children:e.jsx(x,{to:`/movie/${s}`,className:"item_carousel",children:e.jsx("img",{src:a,alt:`front banner of ${u}`})})},s))})})]})}d.propTypes={title:n.PropTypes.string.isRequired,contents:n.PropTypes.arrayOf(n.PropTypes.shape({id:n.PropTypes.number.isRequired,name:n.PropTypes.string.isRequired,img:n.PropTypes.string.isRequired})).isRequired};function g(){const{allContentsTypes:t}=c.useContext(h),r=()=>!t||t.length===0?null:[...t].sort((o,s)=>s.rating-o.rating),i=()=>!t||t.length===0?null:[...t].sort((o,s)=>s.id-o.id);return e.jsxs("main",{className:"home mainContainer",children:[e.jsx(d,{title:"Vistos mais recentes",contents:i()}),e.jsx(d,{title:"Mais bem avaliados",contents:r()}),e.jsx("section",{className:"home categoriseSection",children:e.jsx("h2",{className:"section_title",children:"Em breve"})})]})}function j(){return e.jsx(e.Fragment,{children:e.jsx(g,{})})}function N(){return e.jsxs(e.Fragment,{children:[e.jsx(f,{}),e.jsx(j,{})]})}export{N as default};
